<script lang="ts">
	import { browser } from '$app/environment';
	import Icon from '$lib/Icon.svelte';
	import { search } from '$state/search.svelte';
	const shortcut = !browser || navigator.platform === 'MacIntel' ? 'âŒ˜' : 'Ctrl';
</script>

<button
	class="button-reset"
	aria-label="Search (shortcut: {shortcut}K)"
	onclick={() => {
		search.searching = true;
	}}
>
	<Icon name="search" />

	<div class="shortcut">
		<kbd>{shortcut}K</kbd>
	</div>
</button>

<style lang="postcss">
	.button-reset {
		box-shadow: inset 0 0 0 3px rgb(255 255 255 / 0.0786987545689);
		border-radius: 20px;
		color: var(--c-fg);
	}

	.shortcut {
		display: flex;
		gap: 4px;
		align-items: center;
		background-color: rgb(255 255 255 / 0.1);
		padding: 4px;

		@media (--below-med) {
			display: none;
		}
	}

	.shortcut kbd {
		font-family: system-ui, sans-serif;
		font-size: var(--fs-2);
	}
</style>
